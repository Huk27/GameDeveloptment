# ğŸ” Pathoschild ëª¨ë“œ í˜¸í™˜ì„± ë¶„ì„ (Stardew 1.6+ / SMAPI 4.0+)

> **ëª©ì **: Pathoschild ëª¨ë“œë“¤ì˜ Stardew Valley 1.6 ë° SMAPI 4.0+ í˜¸í™˜ì„±ì„ ë¶„ì„í•˜ì—¬ ì°¸ê³  ê°€ëŠ¥í•œ ìµœì‹  ì½”ë“œë§Œì„ ì‹ë³„í•©ë‹ˆë‹¤.

## ğŸ“‹ í˜¸í™˜ì„± ë¶„ì„ ê²°ê³¼

### âœ… **ìµœì‹  í˜¸í™˜ì„± ëª¨ë“œ (ì°¸ê³  ê¶Œì¥)**

#### 1. **LookupAnything** - ìµœì‹  ë²„ì „ â­â­â­
```json
{
    "MinimumApiVersion": "4.3.1",
    "MinimumGameVersion": "1.6.15"
}
```
- **ìƒíƒœ**: âœ… ì™„ì „ í˜¸í™˜
- **ì°¸ê³  ê°€ì¹˜**: â­â­â­ ë§¤ìš° ë†’ìŒ
- **ì£¼ìš” ê¸°ëŠ¥**: ì‹¤ì‹œê°„ ë°ì´í„° ë¶„ì„, ê²Œì„ ê°ì²´ ì •ë³´ ì¶”ì¶œ
- **ìš°ë¦¬ í”„ë¡œì íŠ¸ ì ìš©**: FarmStatisticsì˜ ë°ì´í„° ë¶„ì„ íŒ¨í„´

#### 2. **Automate** - í˜¸í™˜ ê°€ëŠ¥ â­â­â­
```json
{
    "MinimumApiVersion": "4.1.10"
}
```
- **ìƒíƒœ**: âœ… í˜¸í™˜ (SMAPI 4.1.10+)
- **ì°¸ê³  ê°€ì¹˜**: â­â­â­ ë§¤ìš° ë†’ìŒ
- **ì£¼ìš” ê¸°ëŠ¥**: ìë™í™” ì‹œìŠ¤í…œ, ê¸°ê³„-ìƒì ì—°ë™
- **ìš°ë¦¬ í”„ë¡œì íŠ¸ ì ìš©**: ìë™í™” íŒ¨í„´, ì„±ëŠ¥ ìµœì í™”

#### 3. **ChestsAnywhere** - í˜¸í™˜ ê°€ëŠ¥ â­â­â­
```json
{
    "MinimumApiVersion": "4.1.10"
}
```
- **ìƒíƒœ**: âœ… í˜¸í™˜ (SMAPI 4.1.10+)
- **ì°¸ê³  ê°€ì¹˜**: â­â­â­ ë§¤ìš° ë†’ìŒ
- **ì£¼ìš” ê¸°ëŠ¥**: ë³µì¡í•œ UI ì‹œìŠ¤í…œ, ê²€ìƒ‰/í•„í„°ë§
- **ìš°ë¦¬ í”„ë¡œì íŠ¸ ì ìš©**: UI íŒ¨í„´, ë°ì´í„° ê´€ë¦¬

#### 4. **ContentPatcher** - í˜¸í™˜ ê°€ëŠ¥ â­â­
```json
{
    "MinimumApiVersion": "4.1.10"
}
```
- **ìƒíƒœ**: âœ… í˜¸í™˜ (SMAPI 4.1.10+)
- **ì°¸ê³  ê°€ì¹˜**: â­â­ ë†’ìŒ
- **ì£¼ìš” ê¸°ëŠ¥**: ì½˜í…ì¸  íŒ¨ì¹­, ì¡°ê±´ë¶€ ë¡œë”©
- **ìš°ë¦¬ í”„ë¡œì íŠ¸ ì ìš©**: ì„¤ì • ì‹œìŠ¤í…œ, ì¡°ê±´ë¶€ ê¸°ëŠ¥

### âš ï¸ **ì œí•œì  ì°¸ê³  ëª¨ë“œ**

#### 1. **DataLayers, FastAnimations, CropsAnytimeAnywhere**
```json
{
    "MinimumApiVersion": "4.1.10"
}
```
- **ìƒíƒœ**: âš ï¸ ìµœì†Œ í˜¸í™˜ (SMAPI 4.1.10)
- **ì°¸ê³  ê°€ì¹˜**: â­ ë³´í†µ (ê¸°ë³¸ íŒ¨í„´ë§Œ ì°¸ê³ )
- **ì£¼ì˜ì‚¬í•­**: ìµœì‹  API ê¸°ëŠ¥ ë¯¸ì‚¬ìš© ê°€ëŠ¥ì„±

### âŒ **ì°¸ê³  ê¸ˆì§€ ëª¨ë“œ**

#### 1. **_archived í´ë”ì˜ ëª¨ë“œë“¤**
- **TheLongNight**: ì•„ì¹´ì´ë¸Œë¨ (Stardew 1.3.20ì—ì„œ ì¤‘ë‹¨)
- **RotateToolbar**: ì•„ì¹´ì´ë¸Œë¨ (ê²Œì„ ê¸°ë³¸ ê¸°ëŠ¥ìœ¼ë¡œ í†µí•©)
- **ìƒíƒœ**: âŒ ì™„ì „íˆ ì˜¤ë˜ë¨
- **ì°¸ê³  ê°€ì¹˜**: âŒ ì°¸ê³  ê¸ˆì§€

---

## ğŸ” ìµœì‹  ì½”ë“œ íŒ¨í„´ ë¶„ì„

### **1. ìµœì‹  Game1 API ì‚¬ìš© íŒ¨í„´**

#### âœ… **LookupAnythingì—ì„œ ë°œê²¬ëœ ìµœì‹  íŒ¨í„´**
```csharp
// âœ… ìµœì‹ : 1.6+ í˜¸í™˜ ë©”ë‰´ ì‹œìŠ¤í…œ
if (Game1.activeClickableMenu is LookupMenu menu)
{
    // ìµœì‹  ë©”ë‰´ ì²˜ë¦¬ ë¡œì§
}

// âœ… ìµœì‹ : IScrollableMenu ì¸í„°í˜ì´ìŠ¤ í™œìš©
(Game1.activeClickableMenu as IScrollableMenu)?.ScrollUp();

// âœ… ìµœì‹ : ìŠ¤í”„ë¼ì´íŠ¸ ë°°ì¹˜ ì‹œìŠ¤í…œ
this.DebugInterface.Value.Draw(Game1.spriteBatch);
```

#### âŒ **í”¼í•´ì•¼ í•  ì˜¤ë˜ëœ íŒ¨í„´**
```csharp
// âŒ ì˜¤ë˜ë¨: 1.5 ì´í•˜ ë°©ì‹
Game1.player.freezePause = Game1.currentGameTime.ElapsedGameTime.Milliseconds + 1;

// âŒ ì˜¤ë˜ë¨: êµ¬ì‹ ë„êµ¬ ì‹œìŠ¤í…œ
Game1.player.shiftToolbar(next);
Game1.player.CurrentToolIndex = int.MaxValue;
```

### **2. ë©€í‹°í”Œë ˆì´ì–´ í˜¸í™˜ì„± íŒ¨í„´**

#### âœ… **TractorModì˜ ìµœì‹  ë©€í‹°í”Œë ˆì´ì–´ íŒ¨í„´**
```csharp
// âœ… ìµœì‹ : Context.IsMainPlayer ì‚¬ìš©
if (Context.IsMainPlayer)
{
    // í˜¸ìŠ¤íŠ¸ ì „ìš© ë¡œì§
}

// âœ… ìµœì‹ : PerScreen íŒ¨í„´
private PerScreen<TractorManager> TractorManagerImpl = new();

// âœ… ìµœì‹ : ModMessage API
this.Helper.Multiplayer.SendMessage(data, messageType);

// âœ… ìµœì‹ : í˜¸ìŠ¤íŠ¸ ë²„ì „ í™•ì¸
ISemanticVersion? hostVersion = this.Helper.Multiplayer
    .GetConnectedPlayer(Game1.MasterPlayer.UniqueMultiplayerID)?
    .GetMod(this.ModManifest.UniqueID)?.Version;
```

### **3. ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ ìµœì‹  íŒ¨í„´**

#### âœ… **ìµœì‹  ì´ë²¤íŠ¸ ì²˜ë¦¬ (ëª¨ë“  í˜„ëŒ€ ëª¨ë“œì—ì„œ ê³µí†µ)**
```csharp
public override void Entry(IModHelper helper)
{
    // âœ… ìµœì‹ : í‘œì¤€ ì´ë²¤íŠ¸ êµ¬ë…
    helper.Events.GameLoop.GameLaunched += this.OnGameLaunched;
    helper.Events.GameLoop.SaveLoaded += this.OnSaveLoaded;
    helper.Events.Input.ButtonPressed += this.OnButtonPressed;
    helper.Events.Player.InventoryChanged += this.OnInventoryChanged;
    
    // âœ… ìµœì‹ : ë©€í‹°í”Œë ˆì´ì–´ ì´ë²¤íŠ¸
    helper.Events.Multiplayer.ModMessageReceived += this.OnModMessageReceived;
}
```

### **4. ë°ì´í„° ì ‘ê·¼ ìµœì‹  íŒ¨í„´**

#### âœ… **LookupAnythingì˜ ìµœì‹  ë°ì´í„° ì ‘ê·¼**
```csharp
// âœ… ìµœì‹ : 1.6+ ê²Œì„ ë°ì´í„° ì ‘ê·¼
using StardewValley.GameData.Crops;
using StardewValley.GameData.FishPonds;
using StardewValley.GameData.Locations;
using StardewValley.ItemTypeDefinitions;

// âœ… ìµœì‹ : í™•ì¥ ë©”ì„œë“œ ì‚¬ìš©
using StardewValley.Extensions;

// âœ… ìµœì‹ : ìƒˆë¡œìš´ ê°ì²´ ì‹œìŠ¤í…œ
using StardewValley.Objects;
using SObject = StardewValley.Object;
```

---

## ğŸš€ FarmStatisticsì— ì ìš©í•  ìµœì‹  íŒ¨í„´

### **1. ë°ì´í„° ìˆ˜ì§‘ ìµœì‹  íŒ¨í„´**

```csharp
// âœ… LookupAnything íŒ¨í„´ ì ìš©
public class ModernFarmDataCollector
{
    /// <summary>ìµœì‹  1.6+ APIë¥¼ ì‚¬ìš©í•œ ë†ì¥ ë°ì´í„° ìˆ˜ì§‘</summary>
    public FarmData CollectFarmData()
    {
        var farm = Game1.getFarm();
        var data = new FarmData();
        
        // âœ… ìµœì‹ : 1.6+ ì‘ë¬¼ ë°ì´í„° ì ‘ê·¼
        foreach (var terrainFeature in farm.terrainFeatures.Values)
        {
            if (terrainFeature is HoeDirt dirt && dirt.crop != null)
            {
                var crop = dirt.crop;
                var cropData = Game1.cropData.GetValueOrDefault(crop.indexOfHarvest.Value);
                
                data.Crops.Add(new CropInfo
                {
                    Id = crop.indexOfHarvest.Value,
                    Name = cropData?.DisplayName ?? "Unknown",
                    Phase = crop.currentPhase.Value,
                    DaysToMaturity = crop.phaseDays.Count - crop.currentPhase.Value,
                    Quality = CalculateCropQuality(crop)
                });
            }
        }
        
        return data;
    }
}
```

### **2. ë©€í‹°í”Œë ˆì´ì–´ ì§€ì› ìµœì‹  íŒ¨í„´**

```csharp
// âœ… TractorMod íŒ¨í„´ ì ìš©
public class ModernMultiplayerSupport
{
    private readonly PerScreen<FarmStatisticsViewModel> _viewModel = new();
    private readonly IModHelper _helper;
    
    public ModernMultiplayerSupport(IModHelper helper)
    {
        _helper = helper;
        
        // âœ… ìµœì‹ : ë©€í‹°í”Œë ˆì´ì–´ ë©”ì‹œì§€ êµ¬ë…
        _helper.Events.Multiplayer.ModMessageReceived += this.OnModMessageReceived;
    }
    
    /// <summary>í˜¸ìŠ¤íŠ¸ì—ì„œ í†µê³„ ë°ì´í„° ë¸Œë¡œë“œìºìŠ¤íŠ¸</summary>
    public void BroadcastFarmStatistics()
    {
        if (Context.IsMainPlayer)
        {
            var stats = CollectSharedFarmStatistics();
            _helper.Multiplayer.SendMessage(stats, "FarmStats.Update");
        }
    }
    
    /// <summary>íŒœí•¸ë“œì—ì„œ ê°œì¸ ë°ì´í„° ì „ì†¡</summary>
    public void SendPlayerStatistics()
    {
        if (!Context.IsMainPlayer)
        {
            var playerStats = CollectPlayerStatistics();
            _helper.Multiplayer.SendMessage(
                playerStats, 
                "FarmStats.PlayerData",
                new[] { Game1.MasterPlayer.UniqueMultiplayerID }
            );
        }
    }
}
```

### **3. UI ì‹œìŠ¤í…œ ìµœì‹  íŒ¨í„´**

```csharp
// âœ… ChestsAnywhere íŒ¨í„´ ì ìš©
public class ModernUISystem
{
    /// <summary>ìµœì‹  StardewUI íŒ¨í„´</summary>
    public void ShowStatisticsUI()
    {
        // âœ… ìµœì‹ : ë©”ë‰´ ìƒíƒœ í™•ì¸
        if (Game1.activeClickableMenu is ViewMenu currentMenu)
        {
            Game1.exitActiveMenu();
            return;
        }
        
        // âœ… ìµœì‹ : ViewModel ìƒì„±
        var viewModel = _viewModel.Value ??= CreateViewModel();
        
        // âœ… ìµœì‹ : StardewUI ë©”ë‰´ ìƒì„±
        var menu = _viewEngine.CreateMenuFromAsset(
            $"Mods/{this.ModManifest.UniqueID}/assets/views/FarmStatistics",
            viewModel
        );
        
        Game1.activeClickableMenu = menu;
    }
}
```

---

## ğŸ“Š ê¶Œì¥ ì°¸ê³  ìš°ì„ ìˆœìœ„

### **1ìˆœìœ„: í•„ìˆ˜ ì°¸ê³  ëª¨ë“œ** ğŸ”¥
1. **LookupAnything** (MinimumGameVersion: 1.6.15)
   - ë°ì´í„° ë¶„ì„ íŒ¨í„´
   - ìµœì‹  ê²Œì„ API ì‚¬ìš©ë²•
   - ì„±ëŠ¥ ìµœì í™” ê¸°ë²•

2. **Automate** (MinimumApiVersion: 4.1.10)
   - ìë™í™” ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
   - ë°°ì¹˜ ì²˜ë¦¬ íŒ¨í„´
   - ìºì‹± ì „ëµ

3. **ChestsAnywhere** (MinimumApiVersion: 4.1.10)
   - ë³µì¡í•œ UI ì‹œìŠ¤í…œ
   - ê²€ìƒ‰/í•„í„°ë§ ê¸°ëŠ¥
   - ë°ì´í„° ê´€ë¦¬ íŒ¨í„´

### **2ìˆœìœ„: ì„ íƒì  ì°¸ê³  ëª¨ë“œ** âš¡
- **ContentPatcher**: ì„¤ì • ì‹œìŠ¤í…œ
- **DataLayers**: ì˜¤ë²„ë ˆì´ ì‹œìŠ¤í…œ
- **TractorMod**: ë©€í‹°í”Œë ˆì´ì–´ íŒ¨í„´

### **3ìˆœìœ„: ì°¸ê³  ê¸ˆì§€** âŒ
- `_archived/` í´ë”ì˜ ëª¨ë“  ëª¨ë“œ
- 15ê°œì›” ì´ìƒ ì—…ë°ì´íŠ¸ë˜ì§€ ì•Šì€ ì½”ë“œ
- MinimumApiVersion < 4.0ì¸ ì½”ë“œ

---

## ğŸ¯ ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­

### **âœ… ì•ˆì „í•œ ì°¸ê³  ê¸°ì¤€**
1. **MinimumApiVersion >= 4.1.10**
2. **MinimumGameVersion >= 1.6.0** (ê°€ëŠ¥í•˜ë©´)
3. **ìµœê·¼ 6ê°œì›” ë‚´ ì—…ë°ì´íŠ¸ëœ ì½”ë“œ**
4. **í™œì„± ìƒíƒœì˜ ëª¨ë“œ** (ì•„ì¹´ì´ë¸Œë˜ì§€ ì•Šì€)

### **ğŸš€ FarmStatistics êµ¬í˜„ ì „ëµ**
1. **LookupAnything**ì˜ ë°ì´í„° ë¶„ì„ íŒ¨í„´ì„ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„
2. **Automate**ì˜ ì„±ëŠ¥ ìµœì í™” íŒ¨í„´ ì ìš©
3. **ChestsAnywhere**ì˜ UI ì‹œìŠ¤í…œ íŒ¨í„´ í™œìš©
4. **TractorMod**ì˜ ë©€í‹°í”Œë ˆì´ì–´ ì§€ì› íŒ¨í„´ ì°¸ê³ 

ì´ì œ **ê²€ì¦ëœ ìµœì‹  ì½”ë“œ**ë§Œì„ ê¸°ë°˜ìœ¼ë¡œ FarmStatisticsë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!

---

**ì—…ë°ì´íŠ¸ ë‚ ì§œ**: 2024ë…„ 7ì›” 25ì¼  
**ì‘ì„±ì**: jinhyy  
**ìƒíƒœ**: í˜¸í™˜ì„± ë¶„ì„ ì™„ë£Œ, ìµœì‹  íŒ¨í„´ ì‹ë³„ ì™„ë£Œ
